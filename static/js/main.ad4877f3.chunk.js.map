{"version":3,"sources":["components/posts.jsx","components/Pagination.jsx","App.js","index.js"],"names":["Posts","loading","posts","setPostsPerPage","pageRef","useRef","length","className","map","post","title","id","onSubmit","e","preventDefault","current","value","htmlFor","type","ref","Pagination","paginate","totalNumberOfPosts","postsPerPage","pageNumbers","pageNumber","useRouteMatch","params","i","push","number","onClick","href","App","useState","setPosts","currentPage","setCurrentPage","setLoading","history","useHistory","useEffect","fetch","then","res","json","data","lastPostOfPageIndex","firstPostOfPageIndex","currentPosts","slice","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gMAgCeA,EA9BD,SAAC,GAAuC,IAAtCC,EAAqC,EAArCA,QAASC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,gBACtBC,EAAUC,iBAAOH,EAAMI,QAO7B,OAAGL,EAAgB,4CAGf,qCACA,oBAAIM,UAAU,QAAd,SACI,gCACI,uCACCL,EAAMM,KAAI,SAAAC,GAAI,OACX,8BACI,6BAAKA,EAAKC,SADJD,EAAKE,YAK3B,uBAAMC,SAlBO,SAAAC,GACbA,EAAEC,iBACFX,EAAgBC,EAAQW,QAAQC,QAgBhC,UACI,uBAAOC,QAAQ,eAAf,6BACA,uBAAOC,KAAK,SAASP,GAAG,eAAeQ,IAAKf,IAC5C,wBAAQc,KAAK,SAAb,2B,OCJGE,EApBI,SAAC,GAKhB,IALkE,IAAjDC,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,mBAAoBC,EAAkB,EAAlBA,aACzCC,EAAc,GAEhBC,EADQC,YAAc,gBACHC,OAAOF,WAEtBG,EAAE,EAAGA,EAAEN,EAAqBC,EAAcK,IAC9CJ,EAAYK,KAAKD,GAErB,OACI,oBAAIrB,UAAU,aAAd,SACKiB,EAAYhB,KAAI,SAAAsB,GAAM,OACnB,oBAAiBvB,UAAU,mBAAmBwB,QAAS,kBAAMV,EAASS,IAAtE,SACI,mBAAGE,KAAK,IAAIzB,UAAYkB,GAAYK,EAAU,SAAW,GAAzD,SACKA,KAFAA,SC8BVG,MArCf,WAAgB,IAAD,EACaC,mBAAS,CAAC,EAAE,EAAE,IAD3B,mBACNhC,EADM,KACCiC,EADD,OAE2BD,mBAAS,IAFpC,mBAENX,EAFM,KAEQpB,EAFR,OAGyB+B,mBAAS,GAHlC,mBAGNE,EAHM,KAGOC,EAHP,OAIiBH,oBAAS,GAJ1B,mBAINjC,EAJM,KAIGqC,EAJH,KAMTC,EAAUC,cAEdC,qBAAU,WACRH,GAAW,GACXI,MAAM,8CACLC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIX,EAASW,MACvBR,GAAW,GACXC,EAAQV,KAAK,QACb,IAEF,IAAMkB,EAAsBX,EAAcb,EACpCyB,EAAuBD,EAAsBxB,EAC7C0B,EAAe/C,EAAMgD,MAAMF,EAAsBD,GAOvD,OACE,sBAAKxC,UAAU,MAAf,UACE,gDACA,cAAC,EAAD,CAAON,QAASA,EAASC,MAAO+C,EAAc9C,gBAAiBA,IAC/D,cAAC,EAAD,CAAYkB,SATC,SAAAI,GACfc,EAAQV,KAAR,WAAiBJ,IACjBY,EAAeZ,IAQDH,mBAAoBpB,EAAMI,OAC1BiB,aAAcA,Q,QCjChC4B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.ad4877f3.chunk.js","sourcesContent":["import { useRef } from \"react\";\r\n\r\nconst Posts = ({loading, posts, setPostsPerPage}) => {\r\n    const pageRef = useRef(posts.length);\r\n    \r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        setPostsPerPage(pageRef.current.value);\r\n    }\r\n\r\n    if(loading) return <h2>loading...</h2>\r\n\r\n    return (\r\n        <>\r\n        <ul className=\"posts\">\r\n            <div>\r\n                <h2>Posts</h2>\r\n                {posts.map(post => \r\n                    <div key={post.id}>\r\n                        <h3>{post.title}</h3>\r\n                    </div>)}\r\n            </div>\r\n        </ul>\r\n        <form onSubmit={onSubmit}>\r\n            <label htmlFor=\"postsPerPage\">Number of posts</label>\r\n            <input type=\"number\" id=\"postsPerPage\" ref={pageRef}></input>\r\n            <button type=\"submit\">Submit</button>\r\n        </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Posts;","import { useRouteMatch } from \"react-router-dom\";\r\n\r\nconst Pagination = ({paginate, totalNumberOfPosts, postsPerPage}) => {\r\n    const pageNumbers = [];\r\n    let match = useRouteMatch(\"/:pageNumber\");\r\n    let pageNumber = match.params.pageNumber;\r\n\r\n    for(let i=1; i<totalNumberOfPosts / postsPerPage; i++)\r\n        pageNumbers.push(i);\r\n\r\n    return (\r\n        <ul className=\"pagination\">\r\n            {pageNumbers.map(number => \r\n                <li key={number} className=\"pageNumberButton\" onClick={() => paginate(number)}>\r\n                    <a href=\"#\" className={(pageNumber==number) ? \"active\" : \"\"}>\r\n                        {number}\r\n                    </a>\r\n                </li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import './App.css';\nimport { useState, useEffect } from \"react\";\nimport Posts from \"./components/posts\";\nimport Pagination from \"./components/Pagination\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction App() {\n  const [posts, setPosts] = useState([1,2,3]);\n  const [postsPerPage, setPostsPerPage] = useState(10);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(\"https://jsonplaceholder.typicode.com/posts\")\n    .then(res => res.json())\n    .then(data => setPosts(data));\n    setLoading(false);\n    history.push(\"/1\");\n  },[]);\n\n  const lastPostOfPageIndex = currentPage * postsPerPage;\n  const firstPostOfPageIndex = lastPostOfPageIndex - postsPerPage;\n  const currentPosts = posts.slice(firstPostOfPageIndex, lastPostOfPageIndex);\n\n  const paginate = pageNumber => {\n    history.push(`/${pageNumber}`);\n    setCurrentPage(pageNumber);\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Pagination app</h1>\n      <Posts loading={loading} posts={currentPosts} setPostsPerPage={setPostsPerPage}/>\n      <Pagination paginate={paginate}\n                  totalNumberOfPosts={posts.length}\n                  postsPerPage={postsPerPage}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}